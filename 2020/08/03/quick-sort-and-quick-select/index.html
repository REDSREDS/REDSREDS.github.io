<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>QuickSort And QuickSelect | Max Chen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Quick sort Quick sort uses the idea of divide and conquer, basically, assign a pivot value, let two pointers moving toward each other, let all values same or less than pivot value on the left, and all">
<meta property="og:type" content="article">
<meta property="og:title" content="QuickSort And QuickSelect">
<meta property="og:url" content="https://redsreds.github.io/2020/08/03/quick-sort-and-quick-select/index.html">
<meta property="og:site_name" content="Max Chen&#39;s Blog">
<meta property="og:description" content="Quick sort Quick sort uses the idea of divide and conquer, basically, assign a pivot value, let two pointers moving toward each other, let all values same or less than pivot value on the left, and all">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-08-03T20:31:03.000Z">
<meta property="article:modified_time" content="2022-07-21T03:30:11.982Z">
<meta property="article:author" content="max chen">
<meta property="article:tag" content="algorithms">
<meta property="article:tag" content="sort">
<meta property="article:tag" content="lintcode">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Max Chen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Max Chen&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://REDSREDS.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-quick-sort-and-quick-select" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/03/quick-sort-and-quick-select/" class="article-date">
  <time datetime="2020-08-03T20:31:03.000Z" itemprop="datePublished">2020-08-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      QuickSort And QuickSelect
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Quick-sort"><a href="#Quick-sort" class="headerlink" title="Quick sort"></a>Quick sort</h2><hr>
<p>Quick sort uses the idea of divide and conquer, basically, assign a pivot value, let two pointers moving toward each other, let all values same or less than pivot value on the left, and all values same or greater than pivot value on the right. then respectively deal with the left array and right array.</p>
<h3 id="464-Sort-Integers-II"><a href="#464-Sort-Integers-II" class="headerlink" title="464. Sort Integers II"></a>464. Sort Integers II</h3><p><strong>Key points:</strong></p>
<ol>
<li><code>start &gt;= end</code> : if A is <code>[1, 2]</code>, left and right pointer initially were at 0 and 1, but afterward, right will go to -1, and left will go to 1, so we need to include cases when <code>start &gt; end</code>.</li>
<li><code>left &lt;= right</code>: because if we stop at <code>left == right</code>, then we donâ€™t know which side this index belongs to, or it takes extra steps to figure out, so this is better.<span id="more"></span></li>
<li><code>A[left] &lt; pivot</code> and <code>A[right] &gt; pivot</code>: this is to let the arrays to be divided more evenly, for example <code>[1, 1, 1, 1, 1]</code>, if replaced with <code>A[left] &lt;= pivot</code> or <code>A[right] &gt;= pivot</code>, then every time, left pointer will go all the way to the right, or right pointer will go all the way to the left, the arrays will be divided in the worst case.</li>
</ol>
<figure class="highlight java"><figcaption><span>QuickSort</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sortIntegers2</span><span class="params">(<span class="type">int</span>[] A)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(A == <span class="literal">null</span> || A.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    helper(A, <span class="number">0</span>, A.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">helper</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="comment">// key point 1</span></span><br><span class="line">    <span class="keyword">if</span>(start &gt;= end) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> start;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> end;</span><br><span class="line">    <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> A[start];</span><br><span class="line">    <span class="comment">//key point 2</span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        <span class="comment">//key point 3</span></span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; A[left] &lt; pivot) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; A[right] &gt; pivot) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left &lt;= right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> A[left];</span><br><span class="line">            A[left] = A[right];</span><br><span class="line">            A[right] = temp;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    helper(A, start, right);</span><br><span class="line">    helper(A, left, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Quick-select"><a href="#Quick-select" class="headerlink" title="Quick select"></a>Quick select</h2><hr>
<p>It is related to the quick sort algorithm, the difference is that we only look for one side instead of both sides.</p>
<h3 id="461-Kth-Smallest-Numbers-in-Unsorted-Array"><a href="#461-Kth-Smallest-Numbers-in-Unsorted-Array" class="headerlink" title="461. Kth Smallest Numbers in Unsorted Array"></a>461. Kth Smallest Numbers in Unsorted Array</h3><p><strong>Key points:</strong></p>
<ol>
<li>better change k to k - 1 to match the index.</li>
</ol>
<figure class="highlight java"><figcaption><span>QuickSort</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthSmallest</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> helper(k - <span class="number">1</span>, nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">helper</span><span class="params">(<span class="type">int</span> k, <span class="type">int</span>[] nums, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(start == end) &#123;</span><br><span class="line">        <span class="keyword">return</span> nums[start];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">pivot</span> <span class="operator">=</span> nums[start];</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> start;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> end;</span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; nums[left] &lt; pivot) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; nums[right] &gt; pivot) &#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left &lt;= right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[left];</span><br><span class="line">            nums[left] = nums[right];</span><br><span class="line">            nums[right] = temp;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k &lt;= right) &#123;</span><br><span class="line">        System.out.println(k + <span class="string">&quot; &quot;</span> + start + <span class="string">&quot; &quot;</span> + right + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> helper(k, nums, start, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(k &gt;= left) &#123;</span><br><span class="line">        System.out.println(k + <span class="string">&quot; &quot;</span> + left + <span class="string">&quot; &quot;</span> + end + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> helper(k, nums, left, end);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[k];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Related questions:</strong><br><strong>5. Kth Largest Element</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://redsreds.github.io/2020/08/03/quick-sort-and-quick-select/" data-id="cl5uiinbt0009gbxq8fww3f3h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithms/" rel="tag">algorithms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lintcode/" rel="tag">lintcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/sort/" rel="tag">sort</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/08/03/merge-sort/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Merge Sort
        
      </div>
    </a>
  
  
    <a href="/2020/08/03/two-pointers-algorithm/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Two Pointers Algorithm</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monotone-stack/" rel="tag">Monotone stack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithms/" rel="tag">algorithms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lintcode/" rel="tag">lintcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/" rel="tag">sort</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Monotone-stack/" style="font-size: 10px;">Monotone stack</a> <a href="/tags/algorithms/" style="font-size: 20px;">algorithms</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/lintcode/" style="font-size: 16.67px;">lintcode</a> <a href="/tags/sort/" style="font-size: 13.33px;">sort</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/05/docker/">Docker</a>
          </li>
        
          <li>
            <a href="/2020/08/04/stack/">Stack</a>
          </li>
        
          <li>
            <a href="/2020/08/03/merge-sort/">Merge Sort</a>
          </li>
        
          <li>
            <a href="/2020/08/03/quick-sort-and-quick-select/">QuickSort And QuickSelect</a>
          </li>
        
          <li>
            <a href="/2020/08/03/two-pointers-algorithm/">Two Pointers Algorithm</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 max chen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>