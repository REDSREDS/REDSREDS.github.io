<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Docker | Max Chen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="What is Docker? Why do we need it? Docker is an engine that runs container, which is used to make it easier to create, deploy and run applications. The container is used to package up all parts of an">
<meta property="og:type" content="article">
<meta property="og:title" content="Docker">
<meta property="og:url" content="https://redsreds.github.io/2020/08/05/docker/index.html">
<meta property="og:site_name" content="Max Chen&#39;s Blog">
<meta property="og:description" content="What is Docker? Why do we need it? Docker is an engine that runs container, which is used to make it easier to create, deploy and run applications. The container is used to package up all parts of an">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-08-05T23:39:20.000Z">
<meta property="article:modified_time" content="2022-07-21T03:30:11.982Z">
<meta property="article:author" content="max chen">
<meta property="article:tag" content="tools">
<meta property="article:tag" content="docker">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Max Chen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.2"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Max Chen&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://REDSREDS.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-docker" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/08/05/docker/" class="article-date">
  <time datetime="2020-08-05T23:39:20.000Z" itemprop="datePublished">2020-08-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Docker
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="What-is-Docker-Why-do-we-need-it"><a href="#What-is-Docker-Why-do-we-need-it" class="headerlink" title="What is Docker? Why do we need it?"></a>What is Docker? Why do we need it?</h2><hr>
<p><em>Docker</em> is an engine that runs container, which is used to make it easier to create, deploy and run applications. The container is used to package up all parts of an application like libraries and dependencies. </p>
<p><em>Container</em> can be regarded as a virtual machine. A container can not see other containers unless specifically configured. It contains everything it needs to run the application.</p>
<p><em>Image</em> is what creates the container, it is a template for containers. we can create an image or download from the default registry.</p>
<p><em>Registries</em> stores the images.</p>
<p><strong>Benefits:</strong><br>For developers, they donâ€™t need to worry about the system that application will run on, they just need to focus on writting codes.<br>For operationers, docker provides the flexibility where the applicaiton could run on.<br>It solves dependency conflicts between silimiar applications on the same server, and for multi-server applications, it helps in managing the dependencies on different server.</p>
<span id="more"></span>

<h2 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use ?"></a>How to use ?</h2><p><strong>Container:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">// create a container: each time it is like it generates a disposable, single-time use computer.</span><br><span class="line">// for each container the hostname is different</span><br><span class="line">docker run &#123;containerName&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// list running containers</span><br><span class="line">docker ps</span><br><span class="line"></span><br><span class="line">// list all containers</span><br><span class="line">docker ps -a</span><br><span class="line"></span><br><span class="line">// check the log by container id</span><br><span class="line">docker logs &#123;ID&#125;</span><br><span class="line"></span><br><span class="line">// remove container</span><br><span class="line">docker rm &#123;ID&#125;</span><br><span class="line"></span><br><span class="line">// remove all stopped container</span><br><span class="line">docker container prune -f</span><br><span class="line"></span><br><span class="line">// run long-lived container as detached</span><br><span class="line">docker run -d alpine ping www.docker.com</span><br><span class="line">// to stop:</span><br><span class="line">docker stop &#123;ID&#125;</span><br><span class="line"></span><br><span class="line">// by default, a docker runs in isolation, if it needs to listen for incoming network connections</span><br><span class="line">// it must map a port on the machine to a port in the container.</span><br><span class="line">docker run -d -p 8085:80 nginx</span><br><span class="line"></span><br><span class="line">// A container only writes data inside the container, once container die, all data will be lost.</span><br><span class="line">// So container should be stateless.</span><br><span class="line">// To store files in a place where they are persisted, use volumes. </span><br><span class="line">// Basically it maps a directory inside the container to a persistent storage</span><br><span class="line">docker run -v /your/dir:/var/lib/mysql -d mysql:5.7</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Image:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// show local images</span><br><span class="line">docker image ls</span><br><span class="line"></span><br><span class="line">// create an image</span><br><span class="line">// step 1: create a file [filename], in the file, write the base image and extra command</span><br><span class="line">%Dockerfile</span><br><span class="line">FROM debian:8</span><br><span class="line"></span><br><span class="line">CMD[&quot;echo&quot;, &quot;hello world&quot;]</span><br><span class="line"></span><br><span class="line">// step 2: build the image</span><br><span class="line">docker build -t hello .</span><br><span class="line"></span><br><span class="line">//step 3: create a container based on this image</span><br><span class="line">docker run hello</span><br><span class="line"></span><br><span class="line">// create an image containing file</span><br><span class="line">%Dockerfile</span><br><span class="line">FROM nginx:1.15</span><br><span class="line"></span><br><span class="line">COPY index.html /usr/share/nginx/html</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><hr>
<ol>
<li><a target="_blank" rel="noopener" href="https://opensource.com/resources/what-docker#:~:text=Docker%20is%20a%20tool%20designed,deploy%20it%20as%20one%20package.">https://opensource.com/resources/what-docker#:~:text=Docker%20is%20a%20tool%20designed,deploy%20it%20as%20one%20package.</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://redsreds.github.io/2020/08/05/docker/" data-id="cl5uiibba0005egxqc483gegk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tools/" rel="tag">tools</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2020/08/04/stack/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Stack</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Monotone-stack/" rel="tag">Monotone stack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithms/" rel="tag">algorithms</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lintcode/" rel="tag">lintcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sort/" rel="tag">sort</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Monotone-stack/" style="font-size: 10px;">Monotone stack</a> <a href="/tags/algorithms/" style="font-size: 20px;">algorithms</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/lintcode/" style="font-size: 16.67px;">lintcode</a> <a href="/tags/sort/" style="font-size: 13.33px;">sort</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/08/05/docker/">Docker</a>
          </li>
        
          <li>
            <a href="/2020/08/04/stack/">Stack</a>
          </li>
        
          <li>
            <a href="/2020/08/03/merge-sort/">Merge Sort</a>
          </li>
        
          <li>
            <a href="/2020/08/03/quick-sort-and-quick-select/">QuickSort And QuickSelect</a>
          </li>
        
          <li>
            <a href="/2020/08/03/two-pointers-algorithm/">Two Pointers Algorithm</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 max chen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>